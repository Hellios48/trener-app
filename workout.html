<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leonov Workout Gen</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --primary: #007aff;
            --bg: #ffffff;
            --text: #000000;
            --secondary-bg: #f5f5f5;
            --gold: #FFD700;
            --orange: #FF9500;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
        }

        h1, h2 { text-align: center; margin-top: 0; }
        
        .page { display: none; animation: fadeIn 0.3s; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .card {
            background: var(--secondary-bg);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        /* –°—Ç–∏–ª—å –¥–ª—è –ø—Ä–æ–¥–∞—é—â–µ–≥–æ –±–ª–æ–∫–∞ */
        .premium-card {
            background: linear-gradient(180deg, #fff 0%, #fff9e6 100%);
            border: 2px solid #FFD700;
            padding: 20px;
            border-radius: 16px;
            margin-top: 25px;
            text-align: center;
        }

        label { display: block; margin-bottom: 8px; font-weight: 600; }
        
        select {
            width: 100%; padding: 14px; border: 1px solid #ccc;
            border-radius: 10px; margin-bottom: 20px; font-size: 16px;
            background: #fff;
        }

        .btn {
            width: 100%; padding: 16px; border: none; border-radius: 12px;
            font-size: 17px; font-weight: 700; cursor: pointer; text-align: center;
            margin-top: 10px; text-decoration: none; display: inline-block; box-sizing: border-box;
        }
        .btn-primary { background: var(--primary); color: white; }
        .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); }
        .btn-gold { 
            background: linear-gradient(90deg, #FFD700 0%, #FFA500 100%); 
            color: black; 
            box-shadow: 0 4px 15px rgba(255, 165, 0, 0.4);
        }

        .exercise-item {
            background: #fff; border-radius: 12px;
            margin-bottom: 10px; border-left: 5px solid var(--orange);
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .ex-header {
            padding: 15px;
            display: flex; justify-content: space-between; align-items: center;
            cursor: pointer;
        }

        .ex-name { font-weight: bold; font-size: 16px; width: 65%; }
        .ex-reps { font-weight: bold; color: #666; font-size: 14px; text-align: right; width: 30%; }
        .ex-arrow { font-size: 12px; color: #999; margin-left: 5px; transition: transform 0.2s; }

        .ex-details {
            display: none;
            padding: 0 15px 15px 15px;
            border-top: 1px solid #eee;
            background: #fafafa;
        }
        
        .ex-desc {
            font-size: 14px; color: #333; line-height: 1.5; margin-top: 10px;
        }
        
        .exercise-item.open .ex-details { display: block; }
        .exercise-item.open .ex-arrow { transform: rotate(180deg); }
        
        .tag {
            display: inline-block; padding: 4px 8px; background: #e1f0ff; 
            color: var(--primary); border-radius: 6px; font-size: 12px; margin-bottom: 10px;
        }

        .offer-list { text-align: left; margin: 15px 0; padding-left: 20px; font-size: 14px; }
        .offer-list li { margin-bottom: 8px; color: #444; }
    </style>
</head>
<body>

    <div id="setupPage" class="page active">
        <h1>üèãÔ∏è –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</h1>
        <p style="text-align:center; color:#666;">–Ø –ø–æ–¥–±–µ—Ä—É –ø—Ä–æ–≥—Ä–∞–º–º—É –∏ –ø–æ–∫–∞–∂—É –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ç–µ—Ö–Ω–∏–∫—É.</p>
        
        <div class="card">
            <label>üìç –ì–¥–µ —Ç—Ä–µ–Ω–∏—Ä—É–µ–º—Å—è?</label>
            <select id="place">
                <option value="gym">–í —Ç—Ä–µ–Ω–∞–∂–µ—Ä–Ω–æ–º –∑–∞–ª–µ</option>
                <option value="home">–î–æ–º–∞ (–±–µ–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è)</option>
            </select>

            <label>üéØ –ù–∞ —á—Ç–æ –∞–∫—Ü–µ–Ω—Ç?</label>
            <select id="type">
                <option value="full">üî• –§—É–ª–±–æ–¥–∏ (–í—Å—ë —Ç–µ–ª–æ)</option>
                <option value="upper">üí™ –í–µ—Ä—Ö —Ç–µ–ª–∞ (–°–ø–∏–Ω–∞, –ì—Ä—É–¥—å, –†—É–∫–∏)</option>
                <option value="lower">ü¶µ –ù–∏–∑ —Ç–µ–ª–∞ (–ù–æ–≥–∏, –Ø–≥–æ–¥–∏—Ü—ã)</option>
                <option value="abs">üç´ –ü—Ä–µ—Å—Å –∏ –ö–∞—Ä–¥–∏–æ</option>
            </select>

            <button class="btn btn-primary" onclick="generateWorkout()">üé≤ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
        
        <div class="card" style="text-align: center;">
            <p style="margin:0; font-size:14px;">–•–æ—á–µ—à—å –∑–∞–Ω–∏–º–∞—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–Ω–æ?</p>
            <a href="https://t.me/leonov_vitaliy48?text=–ü—Ä–∏–≤–µ—Ç!%20–•–æ—á—É%20–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π%20–ø–ª–∞–Ω%20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫%20–∑–∞%203000—Ä" class="btn btn-outline" style="margin-top:10px;">–ù–∞–ø–∏—Å–∞—Ç—å —Ç—Ä–µ–Ω–µ—Ä—É</a>
        </div>
    </div>

    <div id="resultPage" class="page">
        <h2 id="workoutTitle">–¢–≤–æ—è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</h2>
        <div style="text-align:center;"><span class="tag" id="workoutTag">–ó–∞–ª ‚Ä¢ –§—É–ª–±–æ–¥–∏</span></div>
        <p style="text-align: center; font-size: 13px; color: #888;">–ù–∞–∂–º–∏ –Ω–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ç–µ—Ö–Ω–∏–∫—É üëá</p>

        <div id="exerciseList" style="margin-top: 15px;"></div>

        <button class="btn btn-outline" onclick="generateWorkout()">üîÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥—É—é</button>
        
        <div class="premium-card">
            <h3 style="margin:0 0 10px 0;">üëë –ù—É–∂–µ–Ω –º–æ—â–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç?</h3>
            <p style="font-size: 13px; color:#666; margin:0;">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ –±–∞–∑–∞. –ß—Ç–æ–±—ã —Ç–µ–ª–æ –º–µ–Ω—è–ª–æ—Å—å, –Ω—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞.</p>
            
            <ul class="offer-list">
                <li>‚úÖ <b>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</b> –ø–æ–¥ —Ç–≤–æ–∏ —Ü–µ–ª–∏ –∏ —Ç—Ä–∞–≤–º—ã</li>
                <li>‚úÖ <b>–ü–æ–¥–±–æ—Ä —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π</b> –ø–æ–¥ —Ç–≤–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å (–∑–∞–ª/–¥–æ–º)</li>
                <li>‚úÖ <b>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</b> –ø–æ —Ä–∞–±–æ—á–∏–º –≤–µ—Å–∞–º –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏</li>
            </ul>

            <div style="font-weight:800; font-size:22px; margin-bottom:5px;">3 000 ‚ÇΩ <span style="font-size:14px; font-weight:normal; color:#555;">/ –ø–ª–∞–Ω</span></div>

            <a href="https://t.me/leonov_vitaliy48?text=–ü—Ä–∏–≤–µ—Ç!%20–•–æ—á—É%20–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π%20–ø–ª–∞–Ω%20—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫%20–∑–∞%203000—Ä" class="btn btn-gold">
                üöÄ –ó–∞–∫–∞–∑–∞—Ç—å –ø–ª–∞–Ω
            </a>
        </div>

        <button class="btn" style="color:#888; background:none; margin-top:5px;" onclick="goBack()">‚ùÆ –ù–∞–∑–∞–¥ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // –ë–ê–ó–ê –£–ü–†–ê–ñ–ù–ï–ù–ò–ô
        const db = {
            gym: {
                upper: [
                    {n: "–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª–µ–∂–∞", r: "3x10-12", d: "–õ–æ–ø–∞—Ç–∫–∏ —Å–≤–µ–¥–µ–Ω—ã, –Ω–æ–≥–∏ –ø–ª–æ—Ç–Ω–æ —É–ø–∏—Ä–∞—é—Ç—Å—è –≤ –ø–æ–ª. –û–ø—É—Å–∫–∞–π —à—Ç–∞–Ω–≥—É –Ω–∞ —Å–µ—Ä–µ–¥–∏–Ω—É –≥—Ä—É–¥–∏ –Ω–∞ –≤–¥–æ—Ö–µ, –º–æ—â–Ω–æ –≤—ã–∂–∏–º–∞–π –Ω–∞ –≤—ã–¥–æ—Ö–µ."},
                    {n: "–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞", r: "3x12-15", d: "–°–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è, –ª–µ–≥–∫–∏–π –ø—Ä–æ–≥–∏–± –≤ –ø–æ—è—Å–Ω–∏—Ü–µ. –¢—è–Ω–∏ —Ä—É–∫–æ—è—Ç—å –∫ –≤–µ—Ä—Ö—É –≥—Ä—É–¥–∏, —Å–≤–æ–¥—è –ª–æ–ø–∞—Ç–∫–∏."},
                    {n: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π —Å–∏–¥—è", r: "3x12", d: "–°—è–¥—å —Ä–æ–≤–Ω–æ, –ø—Ä–µ—Å—Å –Ω–∞–ø—Ä—è–∂–µ–Ω. –í—ã–∂–∏–º–∞–π –≥–∞–Ω—Ç–µ–ª–∏ –≤–≤–µ—Ä—Ö –ø–æ –¥—É–≥–µ, –Ω–µ —É–¥–∞—Ä—è—è –∏—Ö –¥—Ä—É–≥ –æ –¥—Ä—É–≥–∞."},
                    {n: "–¢—è–≥–∞ —à—Ç–∞–Ω–≥–∏ –≤ –Ω–∞–∫–ª–æ–Ω–µ", r: "3x10-12", d: "–ù–∞–∫–ª–æ–Ω –∫–æ—Ä–ø—É—Å–∞ 45¬∞, —Å–ø–∏–Ω–∞ –∏–¥–µ–∞–ª—å–Ω–æ –ø—Ä—è–º–∞—è. –¢—è–Ω–∏ –≥—Ä–∏—Ñ –∫ –Ω–∏–∑—É –∂–∏–≤–æ—Ç–∞, –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—è –ª–æ–ø–∞—Ç–∫–∞–º–∏."},
                    {n: "–°–≥–∏–±–∞–Ω–∏—è –Ω–∞ –±–∏—Ü–µ–ø—Å", r: "3x15", d: "–õ–æ–∫—Ç–∏ –ø—Ä–∏–∂–∞—Ç—ã –∫ –∫–æ—Ä–ø—É—Å—É. –ü–æ–¥–Ω–∏–º–∞–π —à—Ç–∞–Ω–≥—É/–≥–∞–Ω—Ç–µ–ª–∏ –±–µ–∑ —Ä–∞—Å–∫–∞—á–∫–∏ –∫–æ—Ä–ø—É—Å–∞."},
                    {n: "–û—Ç–∂–∏–º–∞–Ω–∏—è –Ω–∞ –±—Ä—É—Å—å—è—Ö", r: "3xMax", d: "–ö–æ—Ä–ø—É—Å —Å–ª–µ–≥–∫–∞ –Ω–∞–∫–ª–æ–Ω–∏ –≤–ø–µ—Ä–µ–¥. –û–ø—É—Å–∫–∞–π—Å—è –¥–æ –ø—Ä—è–º–æ–≥–æ —É–≥–ª–∞ –≤ –ª–æ–∫—Ç—è—Ö."}
                ],
                lower: [
                    {n: "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å–æ —à—Ç–∞–Ω–≥–æ–π", r: "3x8-10", d: "–°–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è. –ù–∞—á–∏–Ω–∞–π –¥–≤–∏–∂–µ–Ω–∏–µ —Å –æ—Ç–≤–µ–¥–µ–Ω–∏—è —Ç–∞–∑–∞ –Ω–∞–∑–∞–¥. –ö–æ–ª–µ–Ω–∏ —Å–º–æ—Ç—Ä—è—Ç –≤ —Å—Ç–æ—Ä–æ–Ω—É –Ω–æ—Å–∫–æ–≤."},
                    {n: "–ñ–∏–º –Ω–æ–≥–∞–º–∏", r: "3x12-15", d: "–ü–æ—è—Å–Ω–∏—Ü–∞ –∏ —Ç–∞–∑ –ø–ª–æ—Ç–Ω–æ –ø—Ä–∏–∂–∞—Ç—ã –∫ —Å–ø–∏–Ω–∫–µ. –ö–æ–ª–µ–Ω–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ –≤—ã–ø—Ä—è–º–ª—è–π."},
                    {n: "–í—ã–ø–∞–¥—ã —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏", r: "3x12 –Ω–∞ –Ω–æ–≥—É", d: "–®–∞–≥ —à–∏—Ä–æ–∫–∏–π. –ö–æ—Ä–ø—É—Å –¥–µ—Ä–∂–∏ —Ä–æ–≤–Ω–æ, –≤–µ—Å –Ω–∞ –ø—è—Ç–∫–µ –ø–µ—Ä–µ–¥–Ω–µ–π –Ω–æ–≥–∏."},
                    {n: "–†—É–º—ã–Ω—Å–∫–∞—è —Ç—è–≥–∞", r: "3x10-12", d: "–ö–æ–ª–µ–Ω–∏ —á—É—Ç—å —Å–æ–≥–Ω—É—Ç—ã. –û—Ç–≤–æ–¥–∏ —Ç–∞–∑ –Ω–∞–∑–∞–¥, –≥—Ä–∏—Ñ —Å–∫–æ–ª—å–∑–∏—Ç –ø–æ –±–µ–¥—Ä–∞–º. –°–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è!"},
                    {n: "–†–∞–∑–≥–∏–±–∞–Ω–∏–µ –Ω–æ–≥", r: "3x15", d: "–°–∏–¥—è –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–µ, –ø–ª–∞–≤–Ω–æ –≤—ã–ø—Ä—è–º–ª—è–π –Ω–æ–≥–∏. –í –≤–µ—Ä—Ö–Ω–µ–π —Ç–æ—á–∫–µ –ø–∞—É–∑–∞ 1 —Å–µ–∫."},
                    {n: "–ò–∫—Ä—ã —Å—Ç–æ—è/—Å–∏–¥—è", r: "4x20", d: "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞: –Ω–∏–∑–∫–æ –æ–ø—É—Å—Ç–∏ –ø—è—Ç–∫—É, –≤—ã—Å–æ–∫–æ –ø–æ–¥–Ω–∏–º–∏."}
                ],
                abs: [
                    {n: "–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è –Ω–∞ —Å–∫–∞–º—å–µ", r: "3x20", d: "–ù–µ —Ç—è–Ω–∏ —Å–µ–±—è –∑–∞ —à–µ—é! –°–∫—Ä—É—á–∏–≤–∞–π—Å—è –ø—Ä–µ—Å—Å–æ–º, –≤—ã–¥–æ—Ö –Ω–∞ –ø–æ–¥—ä–µ–º–µ."},
                    {n: "–ü–æ–¥—ä–µ–º –Ω–æ–≥ –≤ –≤–∏—Å–µ", r: "3x15", d: "–ü–æ–¥–Ω–∏–º–∞–π –∫–æ–ª–µ–Ω–∏ –∫ –≥—Ä—É–¥–∏, –ø–æ–¥–∫—Ä—É—á–∏–≤–∞—è —Ç–∞–∑ –≤–≤–µ—Ä—Ö. –ë–µ–∑ —Ä–∞—Å–∫–∞—á–∫–∏."},
                    {n: "–ü–ª–∞–Ω–∫–∞", r: "3 –ø–æ 60 —Å–µ–∫", d: "–¢–µ–ª–æ ‚Äî –ø—Ä—è–º–∞—è –ª–∏–Ω–∏—è. –ù–µ –ø—Ä–æ–≤–∏—Å–∞–π –≤ –ø–æ—è—Å–Ω–∏—Ü–µ."},
                    {n: "–í–µ–ª–æ—Å–∏–ø–µ–¥", r: "3x20", d: "–õ–µ–∂–∞ –Ω–∞ —Å–ø–∏–Ω–µ, —Ç—è–Ω–∏ –ª–æ–∫–æ—Ç—å –∫ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–º—É –∫–æ–ª–µ–Ω—É."}
                ]
            },
            home: {
                upper: [
                    {n: "–û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç –ø–æ–ª–∞", r: "3x15-20", d: "–¢–µ–ª–æ –≤ –æ–¥–Ω—É –ª–∏–Ω–∏—é. –ö–∞—Å–∞–π—Å—è –≥—Ä—É–¥—å—é –ø–æ–ª–∞."},
                    {n: "–û–±—Ä–∞—Ç–Ω—ã–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è", r: "3x15", d: "–†—É–∫–∏ –Ω–∞ –∫—Ä–∞—é –¥–∏–≤–∞–Ω–∞. –û–ø—É—Å–∫–∞–π —Ç–∞–∑ –≤–Ω–∏–∑, —Å–≥–∏–±–∞—è —Ä—É–∫–∏."},
                    {n: "–ü–ª–∞–Ω–∫–∞ —Å –∫–∞—Å–∞–Ω–∏–µ–º –ø–ª–µ—á", r: "3x20", d: "–í –ø–ª–∞–Ω–∫–µ –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ –∫–∞—Å–∞–π—Å—è –ª–∞–¥–æ–Ω—å—é –ø–ª–µ—á–∞. –ù–µ –∫–∞—á–∞–π —Ç–∞–∑!"},
                    {n: "–°—É–ø–µ—Ä–º–µ–Ω (–ª–æ–¥–æ—á–∫–∞)", r: "3x15", d: "–õ–µ–∂–∞ –Ω–∞ –∂–∏–≤–æ—Ç–µ, –ø–æ–¥–Ω–∏–º–∞–π —Ä—É–∫–∏ –∏ –Ω–æ–≥–∏. –ü–∞—É–∑–∞ –≤–≤–µ—Ä—Ö—É."},
                    {n: "–ë–µ—Ä–ø–∏", r: "3x10", d: "–£–ø–æ—Ä –ø—Ä–∏—Å–µ–≤ -> –£–ø–æ—Ä –ª–µ–∂–∞ -> –û—Ç–∂–∏–º–∞–Ω–∏–µ -> –ü—Ä—ã–∂–æ–∫ –≤–≤–µ—Ä—Ö. –¢–µ–º–ø!"}
                ],
                lower: [
                    {n: "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è", r: "3x25", d: "–í–µ—Å –Ω–∞ –ø—è—Ç–∫–∞—Ö, —Å–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è. –°–∞–¥–∏—Å—å –¥–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏."},
                    {n: "–í—ã–ø–∞–¥—ã –Ω–∞–∑–∞–¥", r: "3x15 –Ω–∞ –Ω–æ–≥—É", d: "–®–∞–≥ –Ω–∞–∑–∞–¥, –∫–æ–ª–µ–Ω–æ –∫ –ø–æ–ª—É. –£–≥–ª—ã 90 –≥—Ä–∞–¥—É—Å–æ–≤."},
                    {n: "–Ø–≥–æ–¥–∏—á–Ω—ã–π –º–æ—Å—Ç–∏–∫", r: "3x20", d: "–õ–µ–∂–∞ –Ω–∞ —Å–ø–∏–Ω–µ, –ø–æ–¥–Ω–∏–º–∞–π —Ç–∞–∑, —Å–∂–∏–º–∞—è —è–≥–æ–¥–∏—Ü—ã."},
                    {n: "–ë–æ–ª–≥–∞—Ä—Å–∫–∏–µ –≤—ã–ø–∞–¥—ã", r: "3x12 –Ω–∞ –Ω–æ–≥—É", d: "–û–¥–Ω–∞ –Ω–æ–≥–∞ –Ω–∞ –¥–∏–≤–∞–Ω–µ —Å–∑–∞–¥–∏. –ü—Ä–∏—Å–µ–¥–∞–π –Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π."},
                    {n: "–°—Ç—É–ª—å—á–∏–∫ —É —Å—Ç–µ–Ω—ã", r: "3 –ø–æ 40 —Å–µ–∫", d: "–ü—Ä–∏–∂–º–∏—Å—å —Å–ø–∏–Ω–æ–π –∫ —Å—Ç–µ–Ω–µ, –±–µ–¥—Ä–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ–ª—É."}
                ],
                abs: [
                    {n: "–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è", r: "3x25", d: "–û—Ç—Ä—ã–≤–∞–π —Ç–æ–ª—å–∫–æ –ª–æ–ø–∞—Ç–∫–∏, –ø–æ—è—Å–Ω–∏—Ü–∞ –ø—Ä–∏–∂–∞—Ç–∞."},
                    {n: "–°–∫–∞–ª–æ–ª–∞–∑", r: "3x30 —Å–µ–∫", d: "–£–ø–æ—Ä –ª–µ–∂–∞. –ë—ã—Å—Ç—Ä–æ –ø–æ–¥—Ç—è–≥–∏–≤–∞–π –∫–æ–ª–µ–Ω–∏ –∫ –≥—Ä—É–¥–∏."},
                    {n: "–ü–ª–∞–Ω–∫–∞", r: "3 –ø–æ 45 —Å–µ–∫", d: "–°—Ç–∞—Ç–∏–∫–∞. –î–µ—Ä–∂–∏ —Å–ø–∏–Ω—É —Ä–æ–≤–Ω–æ."}
                ]
            }
        };

        function generateWorkout() {
            const place = document.getElementById('place').value;
            const type = document.getElementById('type').value;
            
            let pool = [];

            if (type === 'full') {
                const u = shuffle(db[place].upper).slice(0, 2);
                const l = shuffle(db[place].lower).slice(0, 2);
                const a = shuffle(db[place].abs).slice(0, 1);
                pool = [...u, ...l, ...a];
            } else {
                pool = shuffle(db[place][type]).slice(0, 6);
            }

            const list = document.getElementById('exerciseList');
            list.innerHTML = '';
            
            pool.forEach((ex, index) => {
                list.innerHTML += `
                <div class="exercise-item" onclick="toggleDetails(this)">
                    <div class="ex-header">
                        <div class="ex-name">${ex.n}</div>
                        <div class="ex-reps">
                            ${ex.r} <span class="ex-arrow">‚ñº</span>
                        </div>
                    </div>
                    <div class="ex-details">
                        <div class="ex-desc">üí° ${ex.d}</div>
                    </div>
                </div>`;
            });

            document.getElementById('workoutTag').innerText = 
                (place === 'gym' ? '–í –∑–∞–ª–µ' : '–î–æ–º–∞') + ' ‚Ä¢ ' + 
                (type === 'full' ? '–§—É–ª–±–æ–¥–∏' : type === 'upper' ? '–í–µ—Ä—Ö' : type === 'lower' ? '–ù–∏–∑' : '–ü—Ä–µ—Å—Å/–ö–∞—Ä–¥–∏–æ');

            document.getElementById('setupPage').classList.remove('active');
            document.getElementById('resultPage').classList.add('active');
            window.scrollTo(0,0);
        }

        function toggleDetails(element) {
            const allItems = document.querySelectorAll('.exercise-item');
            allItems.forEach(item => {
                if(item !== element) item.classList.remove('open');
            });
            element.classList.toggle('open');
        }

        function goBack() {
            document.getElementById('resultPage').classList.remove('active');
            document.getElementById('setupPage').classList.add('active');
        }

        function shuffle(array) {
            let newArr = [...array]; 
            let currentIndex = newArr.length, randomIndex;
            while (currentIndex != 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [newArr[currentIndex], newArr[randomIndex]] = [newArr[randomIndex], newArr[currentIndex]];
            }
            return newArr;
        }
    </script>
</body>
</html>
